<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-GLhlTQ8iRABdZLl6O3oVMWSktQOp6b7In1Zl3/Jr59b6EGGoI1aFkw7cmDA6j6gD" crossorigin="anonymous">
</head>
<body>
<header th:insert="section/header::header"></header>
<!--<form method="post" th:action="'/news/'+${newsPost.id} + '/update'">-->
<!--  <div class="card-body">-->


<!--    <div class="form-group">-->
<!--      <label for="image">Choose an image:</label>-->
<!--      <div class="custom-file">-->
<!--        <input type="file" class="custom-file-input" name="image" id="image" onchange="previewImage();" accept="image/*" />-->
<!--        &lt;!&ndash;                <label class="custom-file-label" for="image">Choose file</label>&ndash;&gt;-->
<!--      </div>-->
<!--    </div>-->
<!--    <div class="form-group">-->
<!--      <img id="image-preview" th:src="'/images/'+${newsPost.image}" alt="Image Preview" class="img-thumbnail" width="300rem"/>-->
<!--    </div>-->

<!--    <div class="form-group">-->
<!--      <label for="exampleInputTitle">Title</label>-->
<!--      <input type="text" class="form-control" id="exampleInputTitle" name="title" th:value="${newsPost.title}">-->
<!--    </div>-->
<!--    <div class="form-group">-->
<!--      <label for="exampleInputText">News</label>-->
<!--      <textarea class="form-control" id="exampleInputText" rows="5" name="text" th:text="${newsPost.text}"></textarea>-->
<!--    </div>-->

<!--  </div>-->
<!--  &lt;!&ndash; /.card-body &ndash;&gt;-->

<!--  <div class="card-footer">-->
<!--    <button type="submit" class="btn btn-primary">Submit</button>-->
<!--  </div>-->
<!--</form>-->


<!--<footer th:insert="section/footer::footer"></footer>-->
<!--</body>-->
<!--</html>-->
<!--<script>-->
<!--  function previewImage() {-->
<!--    const preview = document.querySelector('#image-preview');-->
<!--    const file = document.querySelector('#image').files[0];-->
<!--    const reader = new FileReader();-->

<!--    reader.addEventListener("load", function () {-->
<!--      preview.src = reader.result;-->
<!--    }, false);-->

<!--    if (file) {-->
<!--      reader.readAsDataURL(file);-->
<!--    }-->
<!--  }-->
<!--</script>-->





<div class="container">
  <form method="post" th:action="'/news/'+${newsPost.id} + '/update'" enctype="multipart/form-data">
    <div class="form-group">
      <label for="image">Choose an image:</label>
      <div class="custom-file">
        <input type="file" class="custom-file-input" name="image" id="image" onchange="previewImage();" accept="image/*" />
        <!--                <label class="custom-file-label" for="image">Choose file</label>-->
      </div>
    </div>
    <div class="form-group">
      <img id="image-preview" th:src="'/images/'+${newsPost.image}" alt="Image Preview" class="img-thumbnail"  width="300rem"/>
    </div>
    <!--        <div class="form-group">-->
    <!--            <label for="caption">Caption:</label>-->
    <!--            <input type="text" class="form-control" name="caption" id="caption" />-->
    <!--        </div>-->
    <div class="card-body">
      <div class="form-group">
        <label for="exampleInputTitle">Title</label>
        <input type="text" class="form-control" id="exampleInputTitle" name="title" placeholder="Enter title" th:value="${newsPost.title}">
      </div>
      <div class="form-group">
        <label for="exampleInputText">News</label>
        <textarea class="form-control" id="exampleInputText" rows="9" name="text"
                  placeholder="Enter text" th:text="${newsPost.text}"></textarea>
      </div>

    </div>
<!--    <button type="submit" class="btn btn-primary">Upload</button>-->
    <div class="card-footer">
      <button type="submit" class="btn btn-success">Save</button>
    </div>
  </form>
</div>

<footer th:insert="section/footer::footer"></footer>
</body>
</html>
<script>

  function previewImage() {
    const preview = document.querySelector('#image-preview');
    const file = document.querySelector('#image').files[0];
    const reader = new FileReader();

    reader.addEventListener("load", function () {
      preview.src = reader.result;
    }, false);

    if (file) {
      reader.readAsDataURL(file);
    }
  }
</script>